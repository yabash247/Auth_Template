{
  "info": {
    "name": "Django Auth API Collection",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_postman_id": "auth-template-collection"
  },
  "item": [
    {
      "name": "User Registration & Profile",
      "item": [
        {
          "name": "Register User",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"StrongPass123!\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/auth/register/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "register"
              ]
            }
          }
        },
        {
          "name": "Get Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/me/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "me"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"identifier\": \"user@example.com\",\n  \"password\": \"StrongPass123!\",\n  \"remember_me\": true\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/auth/login/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "login"
              ]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "  var jsonData = pm.response.json();",
                  "  if (jsonData.access) {",
                  "    pm.environment.set('accessToken', jsonData.access);",
                  "    console.log('\u2705 Access token saved to environment');",
                  "  }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/logout/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "logout"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Password Management",
      "item": [
        {
          "name": "Forgot Password",
          "request": {
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/auth/password/forgot/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "password",
                "forgot"
              ]
            }
          }
        },
        {
          "name": "Reset Password",
          "request": {
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"uid\": \"MQ\",\n  \"token\": \"xyztokencode\",\n  \"new_password\": \"NewPass456!\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/auth/password/reset/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "password",
                "reset"
              ]
            }
          }
        },
        {
          "name": "Change Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"current_password\": \"OldPass123!\",\n  \"new_password\": \"NewPass456!\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/auth/password/change/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "password",
                "change"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Magic Link Login",
      "item": [
        {
          "name": "Request Magic Link",
          "request": {
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/auth/magic/request/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "magic",
                "request"
              ]
            }
          }
        },
        {
          "name": "Consume Magic Link",
          "request": {
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"token\": \"generated_token_value\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/auth/magic/consume/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "magic",
                "consume"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "MFA (TOTP & Backup Codes)",
      "item": [
        {
          "name": "TOTP Setup Begin",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/mfa/totp/setup-begin/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "mfa",
                "totp",
                "setup-begin"
              ]
            }
          }
        },
        {
          "name": "TOTP Confirm",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"code\": \"123456\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/auth/mfa/totp/confirm/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "mfa",
                "totp",
                "confirm"
              ]
            }
          }
        },
        {
          "name": "Backup Codes Generate",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"count\": 5\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/auth/mfa/backup-codes/generate/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "mfa",
                "backup-codes",
                "generate"
              ]
            }
          }
        },
        {
          "name": "Backup Code Verify",
          "request": {
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"code\": \"abcd1234\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/auth/mfa/backup-codes/verify/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "mfa",
                "backup-codes",
                "verify"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Email & SMS OTP",
      "item": [
        {
          "name": "Request Email OTP",
          "request": {
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"digits\": 6\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/auth/otp/email/request/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "otp",
                "email",
                "request"
              ]
            }
          }
        },
        {
          "name": "Verify Email OTP",
          "request": {
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"code\": \"123456\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/auth/otp/email/verify/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "otp",
                "email",
                "verify"
              ]
            }
          }
        },
        {
          "name": "Request SMS OTP",
          "request": {
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone\": \"+1234567890\",\n  \"digits\": 6\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/auth/otp/sms/request/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "otp",
                "sms",
                "request"
              ]
            }
          }
        },
        {
          "name": "Verify SMS OTP",
          "request": {
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone\": \"+1234567890\",\n  \"code\": \"654321\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/auth/otp/sms/verify/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "otp",
                "sms",
                "verify"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "WebAuthn / Passkeys",
      "item": [
        {
          "name": "WebAuthn Register Begin",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/webauthn/register/begin/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "webauthn",
                "register",
                "begin"
              ]
            }
          }
        },
        {
          "name": "WebAuthn Register Complete",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"credential\": {\n    \"label\": \"My Key\"\n  }\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/auth/webauthn/register/complete/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "webauthn",
                "register",
                "complete"
              ]
            }
          }
        },
        {
          "name": "WebAuthn Auth Begin",
          "request": {
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/auth/webauthn/auth/begin/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "webauthn",
                "auth",
                "begin"
              ]
            }
          }
        },
        {
          "name": "WebAuthn Auth Complete",
          "request": {
            "method": "POST",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/auth/webauthn/auth/complete/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "webauthn",
                "auth",
                "complete"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Admin Account Actions",
      "item": [
        {
          "name": "Lock User",
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{base_url}}/api/auth/1/lock/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "1",
                "lock"
              ]
            }
          }
        },
        {
          "name": "Unlock User",
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{base_url}}/api/auth/1/unlock/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "1",
                "unlock"
              ]
            }
          }
        },
        {
          "name": "Disable User",
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{base_url}}/api/auth/1/disable/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "1",
                "disable"
              ]
            }
          }
        },
        {
          "name": "Enable User",
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{base_url}}/api/auth/1/enable/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "1",
                "enable"
              ]
            }
          }
        },
        {
          "name": "Soft Delete User",
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{base_url}}/api/auth/1/soft-delete/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "1",
                "soft-delete"
              ]
            }
          }
        },
        {
          "name": "Restore User",
          "request": {
            "method": "POST",
            "url": {
              "raw": "{{base_url}}/api/auth/1/restore/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "1",
                "restore"
              ]
            }
          }
        },
        {
          "name": "Hard Delete User",
          "request": {
            "method": "DELETE",
            "url": {
              "raw": "{{base_url}}/api/auth/1/hard-delete/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "1",
                "hard-delete"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "User-Initiated Account Actions",
      "item": [
        {
          "name": "Suspend Account",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/suspend/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "suspend"
              ]
            }
          }
        },
        {
          "name": "Request Delete Account",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/request-delete/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "request-delete"
              ]
            }
          }
        },
        {
          "name": "Cancel Delete Account",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/cancel-delete/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "cancel-delete"
              ]
            }
          }
        },
        {
          "name": "Hard Delete Account",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/delete/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "delete"
              ]
            }
          }
        },
        {
          "name": "Re-Authenticate",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"password\": \"StrongPass123!\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/auth/api/auth/reauth/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "api",
                "auth",
                "reauth"
              ]
            }
          }
        }
      ]
    }
  ]
}